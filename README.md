# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура

![UML-диаграмма](uml-diagramm.png)

## Базовый код

### 1. Класс `Api`

Класс $${\color{red}\LARGE{}\textbf{Api}}$$ предоставляет удобный интерфейс для выполнения HTTP-запросов к REST API. Он поддерживает настройку базового URL, заголовков и методов запроса, а также включает встроенную обработку ошибок.

#### Основные возможности

- Настройка базового URL: Упрощает работу с API, позволяя указать базовый URL один раз при создании экземпляра класса.
- Поддержка различных HTTP-методов: Реализованы методы для выполнения GET-запросов, а также POST, PUT и DELETE.
- Обработка ошибок: Встроенный механизм обработки ошибок позволяет получать информативные сообщения об ошибках из ответа сервера.
- Гибкая настройка заголовков: Возможность добавлять или переопределять заголовки запросов через конструктор.

#### Типы данных

`ApiListResponse<Type>`
Описывает структуру ответа от API для списков данных:

- `total`: Общее количество элементов.
- `items`: Массив элементов типа Type.

`ApiPostMethods`
Ограничивает допустимые HTTP-методы для POST-подобных запросов.

#### Конструктор

`constructor(baseUrl: string, options: RequestInit = {});`
Создает экземпляр класса Api.

##### Параметры:

- `baseUrl: string` — Базовый URL для всех запросов.
- `options: RequestInit` (опционально) — Дополнительные настройки для HTTP-запросов (например, заголовки). По умолчанию пустой объект.

##### Поля:

- `baseUrl`
  Тип: `string`

Модификатор доступа: `readonly`

###### Предназначение:

- Хранит базовый URL для всех HTTP-запросов.
- Используется для формирования полного пути к API путем конкатенации с относительным URI (например, `/users`).

* `options`
  Тип: `RequestInit`

Модификатор доступа: `protected`

###### Предназначение:

- Содержит настройки для HTTP-запросов, такие как заголовки (`headers`), методы (`method`), тело запроса (`body`) и другие параметры.
- Эти настройки применяются ко всем запросам, выполняемым через экземпляр класса `Api`.
- Заголовок `'Content-Type': 'application/json'` устанавливается по умолчанию, но может быть переопределен или дополнен через конструктор.

##### Методы:

Класс имеет методы $${\color{green}\Large{}\textbf{get}}$$ для получения данных от сервера с помощью GET запросов, $${\color{green}\Large{}\textbf{post}}$$ для отправки на сервер POST, PUT и DELETE запросов и $${\color{green}\Large{}\textbf{handleResponse}}$$ для обработки ошибок.

### 2. Класс `Component<T>`

### 3. Класс `EventEmitter`

Реализует паттерн «Наблюдатель» и позволяет подписываться на события и уведомлять подписчиков
о наступлении события.

Класс имеет методы $${\color{green}\Large{}\textbf{on}}$$, $${\color{green}\Large{}\textbf{off}}$$, $${\color{green}\Large{}\textbf{emit}}$$ — для подписки на событие, отписки от события и уведомления
подписчиков о наступлении события соответственно.

Дополнительно реализованы методы $${\color{green}\Large{}\textbf{onAll}}$$ и $${\color{green}\Large{}\textbf{offAll}}$$ — для подписки на все события и сброса всех
подписчиков.

Интересным дополнением является метод $${\color{green}\Large{}\textbf{trigger}}$$, генерирующий заданное событие с заданными
аргументами. Это позволяет передавать его в качестве обработчика события в другие классы. Эти
классы будут генерировать события, не будучи при этом напрямую зависимыми от класса EventEmitter.

### 4. Класс `Model<T>`

## Model

### 1. Класс `Basket`

## View

### 1. Класс `Form<T>`

### 2. Класс `Modal`

### 3. Класс `Success`

## Presenter

Код презентера не будет выделен в отдельный класс, а будет размещен в основном скрипте приложения.
