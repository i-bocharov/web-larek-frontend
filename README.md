# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Архитектура

![UML-диаграмма](uml-diagramm.png)

## Базовый код

### 1. Класс `Api`

Класс `Api` представляет собой универсальный инструмент для работы с HTTP-запросами. Он предоставляет методы для выполнения GET и POST-подобных запросов (включая PUT и DELETE) к удаленному серверу. Класс поддерживает настройку базового URL и параметров запроса, таких как заголовки, и предоставляет обработку ответов от сервера.

`constructor(baseUrl: string, options: RequestInit = {})` Конструктор принимает базовый URL (`baseUrl`) для API и опциональные параметры запроса (`options`). Параметры запроса могут включать заголовки, таймауты и другие настройки. Если заголовки не переданы, по умолчанию используется заголовок `'Content-Type': 'application/json'`.

#### Поля класса

- `readonly baseUrl: string` Хранит базовый URL для всех запросов. Этот URL используется как префикс для всех URI, передаваемых в методы `get` и `post`.
- `protected options: RequestInit` Хранит параметры запроса, такие как заголовки, методы и другие настройки. Эти параметры применяются ко всем запросам, выполняемым через экземпляр класса.

#### Методы класса

- `protected handleResponse(response: Response): Promise<object>` Обрабатывает HTTP-ответ от сервера. Если статус ответа успешный (`response.ok`), метод возвращает JSON-данные. В противном случае он создает ошибку, используя поле `error` из JSON-ответа или текст состояния HTTP.
- `get(uri: string)` Выполняет GET-запрос к указанному URI. Метод добавляет URI к базовому URL и отправляет запрос с использованием параметров, определенных в `options`. Результат обрабатывается методом `handleResponse`.
- `post(uri: string, data: object, method: ApiPostMethods = 'POST')` Выполняет POST-, PUT- или DELETE-запрос к указанному URI. Метод принимает данные (`data`), которые будут отправлены в теле запроса, и тип HTTP-метода (`method`). По умолчанию используется метод `POST`. Данные преобразуются в JSON-формат перед отправкой. Результат обрабатывается методом `handleResponse`.

#### Типы, связанные с классом

- `ApiListResponse<Type>` Тип описывает структуру ответа от сервера, содержащего список элементов. Содержит два поля:

  - `total: number` — общее количество элементов.
  - `items: Type[]` — массив элементов типа `Type`.

- `ApiPostMethods` Тип описывает допустимые HTTP-методы для метода `post`: `'POST'`, `'PUT'`, `'DELETE'`.

Класс `Api` предоставляет удобный и унифицированный способ взаимодействия с сервером через HTTP-запросы. Его методы позволяют выполнять основные операции CRUD (создание, чтение, обновление, удаление) с данными, а использование типов, таких как `ApiListResponse<Type>` и `ApiPostMethods`, делает код более безопасным и читаемым.

### 2. Класс `Component<T>`

Класс `Component<T>` представляет собой абстрактный базовый класс для создания компонентов пользовательского интерфейса. Он предоставляет инструментарий для работы с DOM-элементами, такими как управление классами, текстовым содержимым, состоянием блокировки, видимостью, изображениями и т.д. Этот класс является универсальным и может быть расширен для создания специализированных компонентов.

`constructor(protected readonly container: HTMLElement)` Конструктор принимает корневой DOM-элемент компонента, который будет использоваться всеми методами класса для выполнения операций с DOM.

#### Поля класса

- `protected readonly container: HTMLElement` Хранит ссылку на корневой DOM-элемент, который является контейнером для компонента.

#### Методы класса

- `toggleClass(element: HTMLElement, className: string, force?: boolean):void` Переключает указанный класс для элемента. Если параметр `force` не передан, класс будет добавлен, если его нет, и удален, если он уже существует. Если `force` указан, то класс будет добавлен (`true`) или удален (`false`), независимо от текущего состояния.
- `setText(element: HTMLElement, value: unknown): void` Устанавливает текстовое содержимое элемента. Если `value` равно `null` или `undefined`, оно будет преобразовано в пустую строку.
- `setDisabled(element: HTMLElement, state: boolean): void` Блокирует или разблокирует элемент, добавляя или удаляя атрибут `disabled`.
- `setHidden(element: HTMLElement): void` Скрывает элемент, устанавливая его стиль `display` в значение `none`.
- `setVisible(element: HTMLElement): void` Показывает элемент, удаляя свойство `display` из его стилей.
- `setImage(element: HTMLImageElement, src: string, alt?: string): void` Устанавливает атрибут `src` для изображения и, при необходимости, альтернативный текст (`alt`).
- `render(data?: Partial<T>): HTMLElement` Применяет переданные данные к текущему экземпляру компонента (если они есть) и возвращает корневой DOM-элемент. Используется для рендеринга компонента.

Класс `Component<T>` предоставляет мощный и гибкий инструментарий для создания UI-компонентов. Его методы позволяют легко манипулировать DOM-элементами, а абстрактная природа класса делает его удобным для расширения в дочерних классах.

### 3. Класс `EventEmitter`

Класс `EventEmitter` представляет собой реализацию брокера событий, который позволяет подписываться на события, генерировать их и управлять обработчиками. Этот класс предоставляет универсальный механизм для работы с событиями в приложении, поддерживая как точечные подписки на конкретные события, так и глобальные подписки на все события.

`constructor()` Конструктор инициализирует внутреннюю карту `_events`, которая хранит события и связанные с ними обработчики. Карта использует типы `EventName` (строка или регулярное выражение) в качестве ключей и множества обработчиков (`Set<Subscriber>`) в качестве значений.

#### Поля класса

- `_events: Map<EventName, Set<Subscriber>>` Хранит все зарегистрированные события и их обработчики. Ключами являются имена событий (`EventName`), а значениями — множества функций-обработчиков (`Set<Subscriber>`).

#### Методы класса

- `on<T extends object>(eventName: EventName, callback: (event: T) => void): void` Подписывает обработчик на указанное событие. Если событие еще не зарегистрировано, создается новое множество обработчиков. Обработчик добавляется в множество для указанного события.
- `off(eventName: EventName, callback: Subscriber): void` Удаляет обработчик из множества для указанного события. Если после удаления обработчика множество становится пустым, событие удаляется из карты `_events`.
- `emit<T extends object>(eventName: string, data?: T): void` Генерирует событие с указанным именем и данными. Все обработчики, подписанные на это событие, вызываются с переданными данными. Также поддерживаются подписки на все события (`'*'`) и подписки по шаблону (с использованием регулярных выражений).
- `onAll(callback: (event: EmitterEvent) => void): void` Подписывает обработчик на все события. При возникновении любого события будет вызван указанный обработчик с объектом, содержащим имя события и данные.
- `offAll(): void` Очищает все зарегистрированные события и обработчики. Полностью сбрасывает карту `_events`.
- `trigger<T extends object>(eventName: string, context?: Partial<T>): (data: T) => void` Создает функцию-триггер, которая генерирует событие с указанным именем при вызове. Триггер может комбинировать данные, переданные при вызове, с контекстом, указанным при создании триггера.

#### Типы, связанные с классом

- `EventName` Тип описывает имя события. Может быть строкой или регулярным выражением, что позволяет подписываться на события по шаблону.
- `Subscriber` Тип описывает функцию-обработчик события. Обработчик принимает данные, связанные с событием.
- `EmitterEvent` Тип описывает структуру данных, передаваемых в обработчики при подписке на все события ('\*'). Содержит два поля:
  - `eventName: string` — имя события.
  - `data: unknown` — данные, связанные с событием.
- `IEvents` Интерфейс описывает методы, которые должен реализовывать класс `EventEmitter`. Включает методы `on`, `emit` и `trigger`.

Класс `EventEmitter` предоставляет мощный и гибкий механизм для управления событиями в приложении. Его методы позволяют легко подписываться на события, генерировать их и управлять обработчиками, что делает его удобным инструментом для организации взаимодействия между компонентами.

### 4. Класс `Model<T>`

Класс `Model<T>` представляет собой абстрактный базовый класс для создания моделей данных. Он предоставляет механизм для хранения и управления данными, а также интеграции с системой событий через интерфейс `IEvents`. Этот класс позволяет отличать модели от простых объектов данных и уведомлять другие части приложения об изменениях в модели.

`constructor(data: Partial<T>, protected events: IEvents)`
Конструктор принимает частичные данные (`data`) для инициализации модели и экземпляр `IEvents` для работы с событиями. Данные копируются в модель с помощью `Object.assign`, что позволяет гибко задавать начальное состояние.

#### Поля класса

- `protected events: IEvents` Хранит ссылку на экземпляр системы событий (`IEvents`). Используется для уведомления других компонентов о изменениях в модели.

#### Методы класса

- `emitChanges(event: string, payload?: object): void` Генерирует событие, уведомляя подписчиков о том, что модель изменилась. Метод принимает имя события (`event`) и опциональные данные (`payload`). Если данные не переданы, используется пустой объект `{}`. Этот метод позволяет другим компонентам реагировать на изменения в модели.

#### Типы, связанные с классом

- `isModel(obj: unknown): obj is Model<any>` Функция-гарда для проверки, является ли объект экземпляром класса `Model`. Возвращает `true`, если объект является моделью, и `false` в противном случае. Это полезно для типизации и проверки данных в рантайме.
- `IEvents` Интерфейс, описывающий систему событий. Предоставляет методы для подписки на события (`on`), генерации событий (`emit`) и создания триггеров (`trigger`).

Класс `Model<T>` предоставляет универсальный и расширяемый способ управления данными в приложении. Его абстрактная природа позволяет создавать специализированные модели, а интеграция с системой событий делает его удобным для использования в архитектуре MVP или других паттернах, где требуется реактивность.

## Model

### 1. Класс `Basket`

Класс `Basket` представляет собой компонент для управления корзиной товаров в пользовательском интерфейсе. Он наследуется от базового класса `Component<IBasketView>` и предоставляет функциональность для отображения списка товаров, общей стоимости и взаимодействия с кнопкой оформления заказа. Этот класс интегрируется с системой событий через `EventEmitter`, что позволяет уведомлять другие части приложения о действиях пользователя.

`constructor(container: HTMLElement, protected events: EventEmitter)` Конструктор принимает контейнер корзины (`container`) и экземпляр системы событий (`events`). Внутри конструктора инициализируются элементы интерфейса (список товаров, поле общей стоимости и кнопка оформления заказа). Также на кнопку оформления заказа добавляется обработчик события, который генерирует событие `order:open`.

#### Поля класса

- `_list: HTMLElement` Хранит ссылку на элемент, представляющий список товаров в корзине. Используется для отображения или скрытия товаров.
- `_total: HTMLElement` Хранит ссылку на элемент, отображающий общую стоимость товаров в корзине.
- `_button: HTMLElement` Хранит ссылку на кнопку оформления заказа. Эта кнопка становится активной только при наличии выбранных товаров.

#### Методы класса

- `set items(items: HTMLElement[]): void` Устанавливает список товаров в корзине. Если список товаров не пуст, они добавляются в элемент `_list`. Если список пуст, отображается сообщение "Корзина пуста".
- `set selected(items: string[]): void` Управляет состоянием кнопки оформления заказа. Если в корзине есть выбранные товары, кнопка становится активной. Если выбранных товаров нет, кнопка блокируется.
- `set total(total: number): void` Устанавливает отформатированное значение общей стоимости товаров в элемент `_total`. Использует функцию `formatNumber` для форматирования числа.

#### Типы, связанные с классом

- `IBasketView` Интерфейс описывает структуру данных, используемую в классе `Basket`. Содержит три поля:
  - `items: HTMLElement[]` — массив элементов, представляющих товары в корзине.
  - `total: number` — общая стоимость товаров в корзине.
  - `selected: string[]` — массив идентификаторов выбранных товаров.
- `EventEmitter` Класс, предоставляющий систему событий. Используется для генерации события `order:open` при клике на кнопку оформления заказа.

Класс `Basket` предоставляет удобный и унифицированный способ управления корзиной товаров. Его методы позволяют легко обновлять интерфейс корзины, управлять состоянием кнопки оформления заказа и взаимодействовать с другими компонентами через систему событий. Наследование от `Component<IBasketView>` делает его расширяемым и совместимым с общей архитектурой приложения.

### 2. Класс `Order`

Класс `Order` представляет собой модель для управления данными заказа пользователя. Он отвечает за хранение информации о заказе и предоставляет методы для валидации данных и отправки заказа.

`constructor(payment: string, email: string, phone: string, address: string, total: number, items: string[])` Конструктор принимает параметры, необходимые для инициализации данных заказа, такие как способ оплаты, контактная информация, адрес доставки, общая сумма и список товаров. Эти параметры используются для заполнения соответствующих полей класса.

#### Поля класса

- `payment: string` Хранит способ оплаты, выбранный пользователем (например, "Наличные", "Карта").
- `email: string` Хранит электронную почту пользователя, используемую для уведомлений.
- `phone: string` Хранит номер телефона пользователя, используемый для связи.
- `address: string` Хранит адрес доставки, по которому будет доставлен заказ.
- `total: number` Хранит общую сумму заказа, рассчитанную на основе стоимости всех товаров.
- `items: string[]` Хранит массив идентификаторов товаров, добавленных в заказ.

#### Методы класса

- `submit(): void` Отправляет данные заказа на сервер или в обработчик. Метод выполняет следующие действия:
  - Вызывает метод `validate()` для проверки корректности данных.
  - Если данные валидны, выводит их в консоль.
  - Если данные невалидны, выводится сообщение об ошибке через `console.error`.
- `validate(): boolean` Проверяет корректность данных заказа. Метод выполняет следующие проверки:
  - Все обязательные поля (например, `payment`, `email`, `phone`, `address`) заполнены.
  - Формат email соответствует стандарту (например, содержит символ `@` и домен). Для проверки используется регулярное выражение: `/^[^\s@]+@[^\s@]+\.[^\s@]+$/`.
  - Формат номера телефона соответствует требованиям (например, содержит только цифры и имеет длину от 7 до 15 символов). Для проверки используется регулярное выражение: `/^[0-9]{7,15}$/`.
  - Общая сумма (`total`) больше нуля.
  - Массив товаров (`items`) не пустой.
  - Возвращает `true`, если все проверки пройдены, и `false` в противном случае.

Класс `Order` предоставляет удобный способ управления данными заказа. Его конструктор инициализирует все необходимые поля, а методы позволяют проверять корректность данных перед отправкой и управлять процессом оформления заказа. Этот класс является важной частью бизнес-логики приложения, гарантируя, что отправляемые данные соответствуют требованиям и готовы к дальнейшей обработке.

## View

### 1. Класс `Form<T>`

Класс `Form<T>` представляет собой универсальный компонент для работы с формами в пользовательском интерфейсе. Он наследуется от базового класса `Component<IFormState>` и предоставляет инструментарий для управления состоянием формы, обработки ввода данных, проверки их корректности и отображения ошибок. Этот класс интегрируется с системой событий через `IEvents`, что позволяет уведомлять другие части приложения о действиях пользователя.

`constructor(protected container: HTMLFormElement, protected events: IEvents)` Конструктор принимает HTML-форму (`container`) и экземпляр системы событий (`events`). Внутри конструктора инициализируются элементы интерфейса (кнопка отправки и блок ошибок), а также настраиваются обработчики событий для отслеживания изменений в полях формы и отправки данных.

#### Поля класса

- `_submit: HTMLButtonElement` Хранит ссылку на кнопку отправки формы. Используется для управления состоянием кнопки (например, блокировка при недопустимых данных).
- `_errors: HTMLElement` Хранит ссылку на элемент, отображающий сообщения об ошибках. Используется для вывода информации о неправильно заполненных полях.

#### Методы класса

- `onInputChange(field: keyof T, value: string): void` Вызывается при изменении значения в поле формы. Генерирует событие, уведомляющее систему о том, что значение поля изменилось. Событие содержит имя поля (`field`) и новое значение (`value`).
- `set valid(value: boolean): void` Управляет состоянием кнопки отправки формы. Если значение `true`, кнопка становится активной; если `false`, кнопка блокируется.
- `set errors(value: string): void` Устанавливает текстовое содержимое блока ошибок. Если ошибок нет, блок может быть очищен.
- `render(state: Partial<T> & IFormState): HTMLElement` Применяет переданное состояние к форме. Метод разделяет состояние на данные формы (`inputs`) и метаданные (`valid`, `errors`). После рендеринга возвращает корневой DOM-элемент формы.

#### Типы, связанные с классом

- `IFormState` Интерфейс описывает состояние формы. Содержит два поля:
  - `valid: boolean` — флаг, указывающий, является ли форма допустимой для отправки.
  - `errors: string[]` — массив сообщений об ошибках.
- `IEvents` Интерфейс, описывающий систему событий. Предоставляет методы для подписки на события (`on`), генерации событий (`emit`) и создания триггеров (`trigger`).

Класс `Form<T>` предоставляет мощный и гибкий инструментарий для работы с формами. Его методы позволяют легко управлять состоянием формы, обрабатывать пользовательский ввод и взаимодействовать с другими компонентами через систему событий. Наследование от `Component<IFormState>` делает его расширяемым и совместимым с общей архитектурой приложения.

### 2. Класс `Modal`

Класс `Modal` представляет собой компонент для управления модальными окнами в пользовательском интерфейсе. Он наследуется от базового класса `Component<IModalData>` и предоставляет инструментарий для отображения, скрытия и управления содержимым модального окна. Этот класс интегрируется с системой событий через `IEvents`, что позволяет уведомлять другие части приложения о действиях пользователя.

`constructor(container: HTMLElement, protected events: IEvents)` Конструктор принимает корневой DOM-элемент модального окна (`container`) и экземпляр системы событий (`events`). Внутри конструктора инициализируются элементы интерфейса (кнопка закрытия и контейнер для содержимого), а также настраиваются обработчики событий для закрытия модального окна.

#### Поля класса

- `_closeButton: HTMLButtonElement` Хранит ссылку на кнопку закрытия модального окна. Используется для закрытия окна при клике на кнопку.
- `_content: HTMLElement` Хранит ссылку на контейнер для содержимого модального окна. Используется для управления отображаемым содержимым.

#### Методы класса

- `set content(value: HTMLElement): void` Устанавливает содержимое модального окна. Если значение передано, оно заменяет текущее содержимое контейнера. Если значение равно `null`, контейнер очищается.
- `open(): void` Открывает модальное окно, добавляя класс `modal_active` к корневому элементу. Также генерируется событие `modal:open`.
- `close(): void` Закрывает модальное окно, удаляя класс `modal_active` из корневого элемента. Содержимое контейнера очищается, и генерируется событие `modal:close`.
- `render(data: IModalData): HTMLElement` Применяет переданные данные к модальному окну. Метод вызывает метод `open()` для отображения окна и возвращает корневой DOM-элемент модального окна.

#### Типы, связанные с классом

- `IModalData` Интерфейс описывает данные, которые могут быть переданы в модальное окно. Содержит одно поле:
  - `content: HTMLElement` — элемент, который будет отображен в качестве содержимого модального окна.
- `IEvents` Интерфейс, описывающий систему событий. Предоставляет методы для подписки на события (`on`), генерации событий (`emit`) и создания триггеров (`trigger`).

Класс `Modal` предоставляет удобный и универсальный способ управления модальными окнами. Его методы позволяют легко открывать, закрывать и обновлять содержимое окна, а также взаимодействовать с другими компонентами через систему событий. Наследование от `Component<IModalData>` делает его расширяемым и совместимым с общей архитектурой приложения.

### 3. Класс `Success`

Класс `Success` представляет собой компонент для отображения успешного завершения действия, например, оформления заказа. Он наследуется от базового класса `Component<ISuccess>` и предоставляет инструментарий для управления состоянием успеха, включая отображение общей суммы и обработку действий пользователя. Этот класс поддерживает взаимодействие через коллбэки, что делает его гибким для интеграции с другими частями приложения.

`constructor(container: HTMLElement, actions: ISuccessActions)` Конструктор принимает корневой DOM-элемент (`container`) и объект действий (`actions`). Внутри конструктора инициализируются элементы интерфейса (например, кнопка закрытия), а также настраиваются обработчики событий для выполнения действий пользователя, таких как клик по кнопке закрытия.

#### Поля класса

- `_close: HTMLElement` Хранит ссылку на элемент, который используется для закрытия или выполнения действия в компоненте. Например, это может быть кнопка "Закрыть" или "Продолжить".

#### Методы класса

Класс `Success` не содержит дополнительных методов помимо тех, которые унаследованы от базового класса `Component<ISuccess>`. Однако он использует конструктор для настройки обработчиков событий.

#### Типы, связанные с классом

- `ISuccess` Интерфейс описывает данные, которые могут быть переданы в компонент. Содержит одно поле:
  - `total: number` — общая сумма, связанная с успешным действием (например, стоимость заказа).
- `ISuccessActions` Интерфейс описывает действия, которые могут быть выполнены в компоненте. Содержит одно поле:
  - `onClick: () => void` — коллбэк, вызываемый при клике на элемент закрытия или действия.

Класс `Success` предоставляет простой и эффективный способ отображения успешного завершения действия. Его интеграция с коллбэками (`ISuccessActions`) позволяет легко настраивать поведение компонента в зависимости от требований приложения. Наследование от `Component<ISuccess>` делает его расширяемым и совместимым с общей архитектурой приложения.

### 4. Класс `Card`

Класс `Card` предназначен для представления карточки товара в пользовательском интерфейсе. Он отвечает за хранение данных о товаре и их отображение.

`constructor(id: string, title: string, category: string, price: number | null, image: string)` Конструктор принимает данные о товаре, такие как уникальный идентификатор, название, категория, цена и URL изображения. Эти данные используются для инициализации полей класса.

#### Поля класса

- `id: string` Хранит уникальный идентификатор товара, который используется для однозначной идентификации товара в системе.
- `title: string` Хранит название товара, которое отображается в карточке как заголовок.
- `category: string` Хранит категорию товара, которая может использоваться для дополнительного контекста или фильтрации.
- `price: number | null` Хранит цену товара, которая отображается в карточке. Если цена равна `null`, может отображаться текст "Цена не указана".
- `image: string` Хранит URL изображения товара, который используется для отображения изображения товара в карточке.

#### Методы класса

- `render(): void` Рендерит карточку товара, создавая HTML-структуру на основе данных объекта. Создает HTML-элементы для отображения данных о товаре (изображение, название, категория, цена).

Класс `Card` предоставляет удобный способ управления данными о товаре и их отображением в пользовательском интерфейсе. Он содержит поля для хранения ключевых характеристик товара и методы для обновления и получения этих данных. Метод `render()` отвечает за создание HTML-структуры карточки товара, что делает класс незаменимым для работы с интерфейсом.

### 5. Класс `CardList`

Класс `CardList` предназначен для управления списком карточек товаров в пользовательском интерфейсе. Он отвечает за создание, добавление, удаление и обновление карточек товаров.

`constructor(container: HTMLElement)` Конструктор принимает HTML-элемент (`container`), который будет использоваться в качестве контейнера для списка карточек. Этот элемент используется для привязки списка карточек к конкретному месту на странице.

#### Поля класса

- `_list: HTMLElement` Хранит ссылку на HTML-элемент, представляющий контейнер для списка карточек. Используется для размещения карточек товаров.
- `_cards: Card[]` Хранит массив экземпляров класса `Card`, которые представляют карточки товаров, отображаемые в списке.

#### Методы класса

- `renderCards(items: IProduct[]): void` Рендерит список карточек товаров на основе массива данных о товарах. Метод очищает текущий список карточек (если он существует), создает новые карточки товаров (`Card`) для каждого элемента массива и добавляет их в контейнер `_list`.
- `addCard(card: Card): void` Добавляет новую карточку товара в список. Метод добавляет карточку в массив `_cards` и встраивает её HTML-элемент в контейнер `_list`.
- `clear(): void` Очищает список карточек. Метод удаляет все карточки из массива `_cards` и очищает содержимое контейнера `_list`.

Класс `CardList` предоставляет удобный способ управления списком карточек товаров. Он содержит поля для хранения контейнера и массива карточек, а также методы для рендеринга, добавления и очистки карточек. Этот класс является важной частью пользовательского интерфейса, так как отвечает за отображение и обновление списка товаров.

### 6. Класс `Contacts`

Класс `Contacts` предназначен для работы с контактными данными пользователя (например, `email` и телефон) в пользовательском интерфейсе. Он отвечает за валидацию введенных данных и отправку их на сервер или в обработчик.

#### Конструктор:

`constructor(email: string, phone: string)`

Параметры конструктора:

`email: string`

- Электронная почта пользователя.
- Предназначен для хранения `email`, который будет использоваться в форме контактов.

`phone: string`

- Номер телефона пользователя.
- Предназначен для хранения номера телефона, который будет использоваться в форме контактов.

#### Поля класса

`email: string`

- Данные: Строка, содержащая электронную почту пользователя.
- Предназначение: Хранит `email`, который может быть изменен или отправлен на сервер.

`phone: string`

- Данные: Строка, содержащая номер телефона пользователя.
- Предназначение: Хранит номер телефона, который может быть изменен или отправлен на сервер.

#### Методы класса

`submit` Отправляет контактные данные (`email` и `phone`) на сервер или в обработчик.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Вызывает метод `validate()` для проверки корректности данных.
- Если данные валидны, отправляет их на сервер или вызывает соответствующий обработчик (например, через событие).
- Если данные не валидны, выводит сообщение об ошибке или уведомляет пользователя о необходимости исправить данные.

`validate` Проверяет корректность контактных данных (`email` и `phone`).

Входные данные: Нет.
Выходные данные:
`boolean — true`, если данные валидны; `false`, если данные невалидны.

Назначение:

- Проверяет, соответствует ли `email` формату электронной почты (например, содержит символ `@` и домен).
- Проверяет, соответствует ли номер телефона определенному формату (например, содержит только цифры и имеет допустимую длину).
- Возвращает результат проверки.

Класс `Contacts` предоставляет удобный способ управления контактными данными пользователя. Он содержит поля для хранения `email` и номера телефона, а также методы для их валидации и отправки. Этот класс является важной частью пользовательского интерфейса, так как обеспечивает корректное взаимодействие с формой контактов и гарантирует, что отправляемые данные соответствуют требованиям.

### 7. Класс `Header`

Класс `Header` предназначен для управления шапкой страницы в пользовательском интерфейсе. Он отвечает за отображение логотипа, кнопки корзины и обновление информации о корзине (например, общая сумма товаров).

#### Конструктор:

`constructor(container: HTMLElement)`

Параметры конструктора:
`container: HTMLElement`

- HTML-элемент, представляющий контейнер шапки.
- Предназначен для привязки шапки к конкретному месту на странице.

#### Поля класса

`_logo: HTMLElement`

- Данные: HTML-элемент, представляющий логотип.
- Предназначение: Хранит ссылку на элемент логотипа, который отображается в шапке.

`_basketButton: HTMLElement`

- Данные: HTML-элемент, представляющий кнопку корзины.
- Предназначение: Хранит ссылку на кнопку корзины, которая используется для отображения информации о корзине (например, общая сумма товаров).

#### Методы класса

`updateBasket` Обновляет информацию о корзине (например, отображает общую сумму товаров).

Входные данные:
`total: number` — общая сумма товаров в корзине.
Выходные данные: Нет.

Назначение:

- Обновляет текстовое содержимое кнопки корзины (`_basketButton`) с новой информацией о сумме.
- Если сумма равна 0, может скрывать или изменять внешний вид кнопки (например, показывать "Корзина пуста").

Класс `Header` предоставляет удобный способ управления шапкой страницы. Он содержит поля для хранения ключевых элементов шапки (логотип и кнопка корзины), а также метод для обновления информации о корзине. Этот класс является важной частью пользовательского интерфейса, так как обеспечивает отображение и обновление данных в реальном времени.

## Presenter

### 3. Класс `Page`

Класс `Page` является координатором между всеми компонентами страницы (например, шапкой, корзиной, списком карточек товаров, модальным окном). Он отвечает за инициализацию этих компонентов, их настройку и обработку событий, которые происходят между ними.

#### Конструктор:

`constructor(header: Header, basket: Basket, cardList: CardList, modal: Modal)`

Параметры конструктора:

`header: Header`

- Экземпляр класса `Header`, представляющий шапку страницы.
- Предназначен для управления логотипом и кнопкой корзины.

`basket: Basket`

- Экземпляр класса `Basket`, представляющий корзину товаров.
- Предназначен для управления содержимым корзины и взаимодействия с пользователем.

`cardList: CardList`

- Экземпляр класса `CardList`, представляющий список карточек товаров.
- Предназначен для управления отображением и добавлением товаров.

`modal: Modal`

- Экземпляр класса `Modal`, представляющий модальное окно.
- Предназначен для отображения дополнительной информации (например, формы заказа).

#### Поля класса

`_header: Header`

- Данные: Экземпляр класса `Header`.
- Предназначение: Хранит ссылку на шапку страницы для управления её элементами.

`_basket: Basket`

- Данные: Экземпляр класса `Basket`.
- Предназначение: Хранит ссылку на корзину для управления её содержимым и обновления информации.

`_cardList: CardList`

- Данные: Экземпляр класса `CardList`.
- Предназначение: Хранит ссылку на список карточек товаров для управления их отображением и взаимодействием.

`_modal: Modal`

- Данные: Экземпляр класса `Modal`.
- Предназначение: Хранит ссылку на модальное окно для управления его отображением и содержимым.

#### Методы класса

`initHeader` Инициализирует шапку страницы.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Выполняет настройку шапки (например, обновление информации о корзине).
- Подписывается на события, связанные с шапкой (например, клик по кнопке корзины).

`initBasket` Инициализирует корзину.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Выполняет настройку корзины (например, загрузка данных о товарах из хранилища).
- Подписывается на события, связанные с корзиной (например, добавление или удаление товаров).

`initCardList` Инициализирует список карточек товаров.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Выполняет настройку списка карточек (например, рендеринг товаров из API).
- Подписывается на события, связанные с карточками (например, клик по кнопке "Добавить в корзину").

`initModal` Инициализирует модальное окно.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Выполняет настройку модального окна (например, отображение формы заказа).
- Подписывается на события, связанные с модальным окном (например, закрытие или отправка формы).

`handleEvents` Обрабатывает события между компонентами страницы.

Входные данные: Нет.
Выходные данные: Нет.

Назначение:

- Координирует взаимодействие между компонентами (например, обновление корзины при добавлении товара из карточки).
- Обрабатывает глобальные события (например, открытие модального окна при клике на кнопку "Оформить заказ").

Класс `Page` является ключевым компонентом приложения, который координирует работу всех частей интерфейса. Он содержит поля для хранения ссылок на основные компоненты страницы (шапка, корзина, список карточек, модальное окно) и методы для их инициализации и обработки событий. Этот класс играет роль презентера в архитектуре MVP, обеспечивая согласованную работу между моделью и представлением.
